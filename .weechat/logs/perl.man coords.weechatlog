2014-04-10 16:19:38		COORDS(1)                          User Contributed Perl Documentation                         COORDS(1)
2014-04-10 16:19:38		NAME
2014-04-10 16:19:38		       coords - weechat script to map screen coordinates (weechat edition)
2014-04-10 16:19:38		SYNOPSIS
2014-04-10 16:19:38		       first, copy the file to your .weechat/perl directory. Then you can type
2014-04-10 16:19:38		         /script load coords.pl
2014-04-10 16:19:38		       in weechat to load the script. Use
2014-04-10 16:19:38		         /coords
2014-04-10 16:19:38		       to open the coords screen, or conveniently
2014-04-10 16:19:38		         /key bind meta-/ /coords /
2014-04-10 16:19:38		       to open it with the Alt+/ keybinding.
2014-04-10 16:19:38		DESCRIPTION
2014-04-10 16:19:38		       coords will hilight links, allow text selection and tries to send the selection to xterm
2014-04-10 16:19:38		SETUP
2014-04-10 16:19:38		       if you would like urls to be copied into the selection clipboard, add
2014-04-10 16:19:38		         xterm*disallowedWindowOps:20,21,SetXprop
2014-04-10 16:19:38		       to your .Xresources file for xterm.
2014-04-10 16:19:38		       For rxvt-unicode, get the osc-xterm-clipboard script from
2014-04-10 16:19:38		       <http://anti.teamidiot.de/static/nei/*/Code/urxvt/>, install it to your perl-lib directory and
2014-04-10 16:19:38		       add it to your .Xresources like such:
2014-04-10 16:19:38		         URxvt.perl-ext-common: default,osc-xterm-clipboard
2014-04-10 16:19:38		USAGE
2014-04-10 16:19:38		       to open the url overlay on a window, type "/coords" or use the keybinding you created as
2014-04-10 16:19:38		       explained in the "SYNOPSIS".
2014-04-10 16:19:38		   Selection Mode
2014-04-10 16:19:38		       by default, the copy window will be in selection mode. you can move the text cursor with the
2014-04-10 16:19:38		       arrow keys and open a selection with the Space key. The selection content will be transfered into
2014-04-10 16:19:38		       clipboard.
2014-04-10 16:19:38		   URL Mode
2014-04-10 16:19:38		       to switch between selection mode and URL mode, use the "/" key or type the command "/coords /" to
2014-04-10 16:19:38		       directly start in URL mode.
2014-04-10 16:19:38		       inside the overlay, you can use Arrow-Up and Arrow-Down keys to select URLs. This script will try
2014-04-10 16:19:38		       to copy them into your selection clipboard (see "SETUP") so you should be able to open the
2014-04-10 16:19:38		       selected link by clicking the middle mouse button in your browser.
2014-04-10 16:19:38		       once you click or hit enter, an url open signal will be sent to WeeChat. Use an appropriate
2014-04-10 16:19:38		       script such as urlopener.pl from <http://anti.teamidiot.de/static/nei/*/Code/WeeChat/> if you
2014-04-10 16:19:38		       would like to associate this with some application (web browser etc.)
2014-04-10 16:19:38		       to leave the overlay, hit the "q" key.
2014-04-10 16:19:38		       for mouse support, this script will listen to mouse input signals. Another script is needed to
2014-04-10 16:19:38		       supply these signals, such as mouse.pl which can be found in the same place as urlopener.pl and
2014-04-10 16:19:38		       this script.
2014-04-10 16:19:38		CAVEATS
2014-04-10 16:19:38		       ·   WeeChat does not allow for visual feedback during mouse operation unless you patch it and use
2014-04-10 16:19:38		           the mouse.pl or mouse_var.pl script instead.
2014-04-10 16:19:38		       ·   double-click word select does not work in an unpatched WeeChat for the same reason -- unless
2014-04-10 16:19:38		           you set a very high close_on_release timeout (with the added inconvenience).
2014-04-10 16:19:38		       ·   unfortunately, WeeChat scrolls back a buffer to the end when you switch to any other buffer,
2014-04-10 16:19:38		           including the copy window overlay. coords.pl will work together with the keepscroll.pl script
2014-04-10 16:19:38		           to try and remedy this a little bit, but the perfect scrolling position cannot be restored
2014-04-10 16:19:38		           due to internal limitations. (no longer the case in recent versions of WeeChat.)
2014-04-10 16:19:38		       ·   whether other terminal emulators support selection storage, depends on how well they emulate
2014-04-10 16:19:38		           xterm. Set "xterm_compatible" to your $TERM if you think it does.
2014-04-10 16:19:38		       ·   xterm will not allow selection storage unless you enable it in the Xresources as described in
2014-04-10 16:19:38		           "SETUP"
2014-04-10 16:19:38		       ·   rxvt-unicode will need a script to handle the selection operating system control. querying
2014-04-10 16:19:38		           the selection is only supported if the selection is rxvt-unicode's (not needed for this
2014-04-10 16:19:38		           script)
2014-04-10 16:19:38		       ·   GNU screen will not allow to pass through the operating system control needed for selection
2014-04-10 16:19:38		           storage to the underlying term, try tmux instead (<http://tmux.sourceforge.net/>)
2014-04-10 16:19:38		       ·   it would be possible to provide a remote clipboard, but that will require a clipboard server.
2014-04-10 16:19:38		           Also see xsel, xclip, command mode
2014-04-10 16:19:38		TODO
2014-04-10 16:19:38		       ·   set the text input cursor on click in the input bar
2014-04-10 16:19:38		BUGS
2014-04-10 16:19:38		       ·   my local xterm exhibits a bug where the selection is only copied if you click into the xterm
2014-04-10 16:19:38		           window first. still trying to figure this one out...
2014-04-10 16:19:38		       ·   missing handling of scroll_beyond_end feature in weechat
2014-04-10 16:19:38		       ·   broken handling of Day Changed messages in newer weechat
2014-04-10 16:19:38		       ·   possibly more...
2014-04-10 16:19:38		SETTINGS
2014-04-10 16:19:38		       the settings are usually found in the
2014-04-10 16:19:38		         plugins.var.perl.coords
2014-04-10 16:19:38		       namespace, that is, type
2014-04-10 16:19:38		         /set plugins.var.perl.coords.*
2014-04-10 16:19:38		       to see them and
2014-04-10 16:19:38		         /set plugins.var.perl.coords.SETTINGNAME VALUE
2014-04-10 16:19:38		       to change a setting "SETTINGNAME" to a new value "VALUE". Finally,
2014-04-10 16:19:38		         /unset plugins.var.perl.coords.SETTINGNAME
2014-04-10 16:19:38		       will reset a setting to its default value.
2014-04-10 16:19:38		       the following settings are available:
2014-04-10 16:19:38		   url_regex
2014-04-10 16:19:38		       a regular expression to identify URLs in the text. See perlre for more information about Perl
2014-04-10 16:19:38		       regular expressions.
2014-04-10 16:19:38		   url_braces
2014-04-10 16:19:38		       parenthesis-like characters which nest and should be excluded when found around an URL. make sure
2014-04-10 16:19:38		       the variable setting nests properly when modifying this.
2014-04-10 16:19:38		   url_non_endings
2014-04-10 16:19:38		       this is matched against the end of a link and removed
2014-04-10 16:19:38		   hyper_nicks
2014-04-10 16:19:38		       make nicks to hyperlinks for menu/pm
2014-04-10 16:19:38		   hyper_channels
2014-04-10 16:19:38		       make channels to hyperlinks for join
2014-04-10 16:19:38		   hyper_show
2014-04-10 16:19:38		       set to types of hyperlinks that are shown by default
2014-04-10 16:19:38		   use_nick_menu
2014-04-10 16:19:38		       use nick menu when opening nick hyperlink (see hyper_nicks, requires menu.pl script). otherwise
2014-04-10 16:19:38		       open private message. this setting only applies to text mode selection, for mouse see
2014-04-10 16:19:38		       mouse.nick_2nd_click
2014-04-10 16:19:38		   color.url_highlight
2014-04-10 16:19:38		       the weechat color and/or attribute to be used for highlighting URLs in the copy window. seperate
2014-04-10 16:19:38		       multiple attributes with "."
2014-04-10 16:19:38		   color.url_highlight_active
2014-04-10 16:19:38		       the same as color.url_highlight except for the currently (using arrow keys) selected link.
2014-04-10 16:19:38		   color.selection_cursor
2014-04-10 16:19:38		       the weechat color and/or attribute to be used for the text cursor.
2014-04-10 16:19:38		   color.selection
2014-04-10 16:19:38		       the color of the currently selected text in selection mode
2014-04-10 16:19:38		   copybuf_short_name
2014-04-10 16:19:38		       short_name to use for coords buffer. it is set to the copy sign by default to not disturb buffers
2014-04-10 16:19:38		       bar width, set to the empty string to have window position and size shown
2014-04-10 16:19:38		   mouse.copy_on_click
2014-04-10 16:19:38		       set to on if it should be possible to directly click on URLs and select text, set to off if mouse
2014-04-10 16:19:38		       should only work in open coords buffer
2014-04-10 16:19:38		   mouse.close_on_release
2014-04-10 16:19:38		       set to on or a delay (in ms) to autoclose coords buffer opened by copy_on_click on button
2014-04-10 16:19:38		       release, set to off if the coords buffer should stay open after click
2014-04-10 16:19:38		   mouse.click_select_pane
2014-04-10 16:19:38		       set to on to use the mouse to select windows
2014-04-10 16:19:38		   mouse.click_through_pane
2014-04-10 16:19:38		       set to on if copy_on_click should work on inactive windows (works only if click_select_pane is
2014-04-10 16:19:38		       set too). set to off if window needs to be active
2014-04-10 16:19:38		   mouse.url_open_2nd_click
2014-04-10 16:19:38		       if this is set, URLs are only opened when clicked twice (in the same incarnation of a coords
2014-04-10 16:19:38		       buffer) instead of on first click. it can be set to a delay (in ms) that will be added to the
2014-04-10 16:19:38		       close_on_release delay if the script is waiting for a second click on the URL to happen
2014-04-10 16:19:38		   mouse.handle_scroll
2014-04-10 16:19:38		       set to on if coords should handle scrolling inside windows. the script will try to guess non-chat
2014-04-10 16:19:38		       areas to be nicklist, top to be title and bottom to be status and scroll the respective bars if
2014-04-10 16:19:38		       the cursor is in that area. set to off if scrolling should be handled by the default mouse.pl
2014-04-10 16:19:38		       script or another mouse scrolling script
2014-04-10 16:19:38		   mouse.scroll_inactive_pane
2014-04-10 16:19:38		       set to on if inactive windows should be scrolled instead of active window if the mouse cursor is
2014-04-10 16:19:38		       over it (requires handle_scroll to be enabled)
2014-04-10 16:19:38		   clipboard_command
2014-04-10 16:19:38		       if you set this, an external program may be executed to store the selection or URL. begin with
2014-04-10 16:19:38		       "|" to pipe into program or use parameters %s for text, %q for quoted text or %x for quoted
2014-04-10 16:19:38		       escape sequence.
2014-04-10 16:19:38		   copywin_custom_keys
2014-04-10 16:19:38		       You can define custom key bindings to use inside the copywin here. syntax is:
2014-04-10 16:19:38		       command-letter:weechat-keycode. available commands: -+>< (up/down/left/right) fbae (forward
2014-04-10 16:19:38		       word/backward word/beginning/end) !@ (open/start selection) /UNCunc (toggle
2014-04-10 16:19:38		       highlights/urls/nicks/channels) q (close window)
2014-04-10 16:19:38		FUNCTION DESCRIPTION
2014-04-10 16:19:38		       for full pod documentation, filter this script with
2014-04-10 16:19:38		         perl -pE'
2014-04-10 16:19:38		         (s/^## (.*?) -- (.*)/=head2 $1\n\n$2\n\n=over\n/ and $o=1) or
2014-04-10 16:19:38		          s/^## (.*?) - (.*)/=item I<$1>\n\n$2\n/ or
2014-04-10 16:19:38		         (s/^## (.*)/=back\n\n$1\n\n=cut\n/ and $o=0,1) or
2014-04-10 16:19:38		         ($o and $o=0,1 and s/^sub /=back\n\n=cut\n\nsub /)'
2014-04-10 16:19:38		perl v5.14.2                                   2014-04-10                                      COORDS(1)
2014-04-10 16:20:01	=!=	You can not write text in this buffer
